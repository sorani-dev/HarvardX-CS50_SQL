<!DOCTYPE html><html lang="en-us"><head>

        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width"><meta property="og:description" content="An introduction to databases using a language called SQL.">

        <meta property="og:image" content="https://prod-discovery.edx-cdn.org/media/course/image/3e45c431-10df-423e-9f03-fb98b713cd4a-5158ac9c653a.small.png"><meta property="og:title" content="DESE - CS50's Introduction to Databases with SQL">

        <link href="../../../favicon.ico?1696256780" rel="icon">

        <!-- https://fonts.google.com/specimen/PT+Sans?query=PT+Sans&selection.family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700 -->
        <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>

        <!-- https://getbootstrap.com/docs/ -->
        <script src="../../../assets/jquery/dist/jquery.min.js?1696256780"></script>
        <script src="../../../assets/bootstrap/dist/js/bootstrap.bundle.min.js?1696256780"></script>

        <!-- https://bootstrap-table.com/docs/getting-started/introduction/ -->
        <link href="../../../assets/bootstrap-table/dist/bootstrap-table.min.css?1696256780" rel="stylesheet">
        <script src="../../../assets/bootstrap-table/dist/bootstrap-table.min.js?1696256780"></script>
        <script src="../../../assets/bootstrap-table/dist/extensions/mobile/bootstrap-table-mobile.min.js?1696256780"></script>

        <!-- https://fontawesome.com/how-to-use/on-the-web/referencing-icons/basic-use -->
        
        <link crossorigin="anonymous" href="https://kit.fontawesome.com/a6e66aa089.css" rel="stylesheet">
        

        <!-- https://moment.github.io/luxon/ -->
        <script src="../../../assets/luxon/build/global/luxon.min.js?1696256780"></script>

        <!-- http://docs.mathjax.org/ -->
        <!-- http://docs.mathjax.org/en/latest/options/output/chtml.html?highlight=displayAlign#the-configuration-block -->
        <script>
            MathJax = {
               chtml: {
                    displayAlign: "left"
                }
            };
        </script>
        <script src="../../../assets/mathjax/es5/tex-chtml.js?1696256780"></script>

        <!-- https://github.com/verlok/vanilla-lazyload -->
        <script src="../../../assets/intersection-observer/intersection-observer.js?1696256780"></script>
        <script src="../../../assets/vanilla-lazyload/dist/lazyload.min.js?1696256780"></script>

        <!-- https://github.com/davidjbradshaw/iframe-resizer -->
        <script src="../../../assets/iframe-resizer/js/iframeResizer.min.js?1696256780"></script>

        <!-- https://github.com/scratchblocks/scratchblocks/releases -->
        <script src="../../../assets/scratchblocks.min.js?1696256780"></script>

        <!-- https://mermaid-js.github.io/ -->
        <script src="../../../assets/mermaid.min.js?1696256780"></script>

        <!-- https://github.com/twitter/twemoji -->
        <script src="../../../assets/twemoji/dist/twemoji.min.js?1696256780"></script>

        

        <link href="../../../assets/page.css?1696256780" rel="stylesheet">
        <script src="../../../assets/jekyll-theme-cs50.js?1696256780"></script>

        <script>
            window.CS50 = {
                local: {"day":"numeric","hour":"numeric","minute":"numeric","month":"long","timeZoneName":"short","weekday":"long","year":"numeric"},
                locale: "en",
                tz: "America/New_York"
            };
        </script>

        <title>DESE - CS50's Introduction to Databases with SQL</title>


    </head>

    <body class="invisible">

        <div class="alert fixed-top mb-0 rounded-0" data-alert="success dismissible" data-hash="0129a290f1b935ef2af9c47f24376fe8" id="alert" role="alert">
            <button aria-label="Close" class="btn-close d-none" data-bs-dismiss="alert" type="button"></button><p>Interested in <a href="../../../#how-to-take-this-course">a verified certificate or transfer credit and accreditation</a>?</p></div>
        

        <div class="container-fluid">

            <div class="row">

                <aside class="col-lg">
 
                    <header><h1 data-id="cs50s-introduction-to-databases-with-sql"><a href="../../..">CS50’s Introduction to Databases with SQL</a></h1>

<p>OpenCourseWare</p>

<p><a class="pr-1 small" href="https://cs50.harvard.edu/donate">Donate<i aria-hidden="true" class="fas fa-external-link-alt ps-2"></i></a></p>

<p class="small"><a href="https://carterzenke.me">Carter Zenke</a><br>
<a href="mailto:carter@cs50.harvard.edu">carter@cs50.harvard.edu</a>
<br>
<a class="mr-1" href="https://github.com/carterzenke"><i aria-hidden="true" class="fab fa-github" title="GitHub"></i><span class="sr-only">GitHub</span></a>
<a class="mr-1" href="https://www.linkedin.com/in/carterzenke/"><i aria-hidden="true" class="fab fa-linkedin" title="LinkedIn"></i><span class="sr-only">LinkedIn</span></a></p>

<p class="small"><a href="https://cs.harvard.edu/malan/">David J. Malan</a>
<br>
<a href="mailto:malan@harvard.edu">malan@harvard.edu</a>
<br>
<a class="mr-1" href="https://www.facebook.com/dmalan"><i aria-hidden="true" class="fa-brands fa-facebook-f" title="Facebook"></i><span class="sr-only">Facebook</span></a>
<a class="mr-1" href="https://github.com/dmalan"><i aria-hidden="true" class="fa-brands fa-github" title="GitHub"></i><span class="sr-only">GitHub</span></a>
<a class="mr-1" href="https://www.instagram.com/davidjmalan/"><i aria-hidden="true" class="fa-brands fa-instagram" title="Instagram"></i><span class="sr-only">Instagram</span></a>
<a class="mr-1" href="https://www.linkedin.com/in/malan/"><i aria-hidden="true" class="fa-brands fa-linkedin" title="LinkedIn"></i><span class="sr-only">LinkedIn</span></a>
<a class="mr-1" href="https://www.reddit.com/user/davidjmalan"><i aria-hidden="true" class="fa-brands fa-reddit-alien" title="Reddit"></i><span class="sr-only">Reddit</span></a>
<a class="mr-1" href="https://www.threads.net/@davidjmalan"><i aria-hidden="true" class="fa-brands fa-threads" title="Threads"></i><span class="sr-only">Threads</span></a>
<a class="mr-1" href="https://twitter.com/davidjmalan"><i aria-hidden="true" class="fa-brands fa-twitter" title="Twitter"></i><span class="sr-only">Twitter</span></a></p></header>

                    

                    <button aria-controls="nav" aria-expanded="false" class="btn btn-sm collapsed d-lg-none" data-bs-target="aside > nav" data-bs-toggle="collapse">
                        Menu
                    </button>

                    <nav class="collapse d-lg-block" id="nav"><hr>

<ul>
  <li data-marker="*"><a href="https://cs50.harvard.edu/x/2023/ready/"><i class="fa-solid fa-duck me-2"></i>Ready Player 50</a></li>
  <li data-marker="*"><a href="../../../zoom/"><i class="fa-solid fa-video me-2"></i>Zoom Meetings<span class="badge ms-2 p-1 text-bg-warning">new</span></a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="https://cs50.ai/"><i class="fa-solid fa-duck pe-2 text-decoration-none"></i>CS50.ai</a></li>
  <li data-marker="*"><a href="https://cs50.edx.org/ed"><i class="fa-solid fa-comment-question pe-2 text-decoration-none"></i>Ed Discussion</a> for Q&amp;A</li>
</ul>

<hr>

<ol start="0">
  <li><a href="../../../weeks/0/">Querying</a></li>
  <li><a href="../../../weeks/1/">Relating</a></li>
  <li><a href="../../../weeks/2/">Designing</a></li>
  <li><a href="../../../weeks/3/">Writing</a></li>
  <li><a href="../../../weeks/4/">Viewing</a></li>
  <li><a href="../../../weeks/5/">Optimizing</a></li>
  <li><a href="../../../weeks/6/">Scaling</a></li>
</ol>

<ul>
  <li data-marker="*"><a href="../../../project/">Final Project</a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="../../../honesty/">Academic Honesty</a></li>
  <li data-marker="*"><a href="../../../certificate/">CS50 Certificate</a></li>
  <li data-marker="*"><a href="../../../faqs/">FAQs</a></li>
  <li data-marker="*"><a href="https://cs50.me/cs50sql">Gradebook</a></li>
  <li data-marker="*"><a href="../../">Problem Sets</a></li>
</ul>

<hr>

<ul class="small">
  <li data-marker="*"><a href="https://apps.apple.com/us/app/cs50/id1631064453">Apple TV</a></li>
  <li data-marker="*"><a href="https://cs50.edx.org/sql">edX</a></li>
  <li data-marker="*"><a href="https://play.google.com/store/apps/details?id=edu.harvard.cs50.googletv">Google TV</a></li>
  <li data-marker="*"><a href="https://web.dce.harvard.edu/extension/csci/e/151">Harvard Extension School</a></li>
  <li data-marker="*"><a href="https://web.dce.harvard.edu/summer/csci/s/151">Harvard Summer School</a></li>
  <li data-marker="*"><a href="https://www.youtube.com/playlist?list=PLhQjrBD2T382v1MBjNOhPu9SiJ1fsD4C0">YouTube</a></li>
</ul>

<hr>

<ul class="small">
  <li data-marker="*"><a href="https://cs50.statuspage.io/">Status Page</a></li>
</ul>

<hr>

<ul>
  <li data-marker="*"><a href="../../../communities/"><strong>Communities</strong></a></li>
  <li data-marker="*" class="small"><a href="https://cs50.bsky.social">Bluesky</a></li>
  <li data-marker="*" class="small"><a href="https://www.clubhouse.com/club/cs50">Clubhouse</a></li>
  <li data-marker="*" class="small"><a href="https://discord.gg/cs50">Discord</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://cs50.edx.org/ed">Ed</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://www.facebook.com/groups/cs50/">Facebook Group</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://www.facebook.com/cs50/">Facebook Page</a></li>
  <li data-marker="*" class="small"><a href="https://github.com/cs50">GitHub</a></li>
  <li data-marker="*" class="small"><a href="https://gitter.im/cs50/x">Gitter</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://instagram.com/cs50">Instagram</a></li>
  <li data-marker="*" class="small"><a href="https://www.linkedin.com/groups/7437240/">LinkedIn Group</a></li>
  <li data-marker="*" class="small"><a href="https://www.linkedin.com/school/CS50/">LinkedIn Page</a></li>
  <li data-marker="*" class="small"><a href="https://cs50.medium.com/">Medium</a></li>
  <li data-marker="*" class="small"><a href="https://www.quora.com/topic/CS50">Quora</a></li>
  <li data-marker="*" class="small"><a href="https://www.reddit.com/r/cs50/">Reddit</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://cs50.edx.org/slack">Slack</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://www.snapchat.com/add/cs50">Snapchat</a></li>
  <li data-marker="*" class="small"><a href="https://soundcloud.com/cs50">SoundCloud</a></li>
  <li data-marker="*" class="small"><a href="https://cs50.stackexchange.com/">Stack Exchange</a> <span class="badge bg-light ms-1 py-1 rounded-pill text-dark">Q&amp;A</span></li>
  <li data-marker="*" class="small"><a href="https://www.tiktok.com/@cs50">TikTok</a></li>
  <li data-marker="*" class="small"><a href="https://twitter.com/cs50">Twitter</a></li>
  <li data-marker="*" class="small"><a href="http://www.youtube.com/subscription_center?add_user=cs50tv">YouTube</a></li>
</ul>

<hr>

<p><a href="https://cs50.harvardshop.com/"><img src="https://cs50.harvard.edu/x/2023/assets/shop.png" alt="Harvard Shop"></a></p>

<hr>

<p><a href="../../../license/" class="small"><i class="fab fa-creative-commons me-1"></i>License</a></p></nav>

                    <footer></footer>

                </aside>

                <main class="col-lg">

                    <h1 id="dese">DESE</h1>

<p><img src="dese-logo.png" alt="Logo of the Massachusetts Department of Elementary and Secondary Education"></p>

<h2 id="problem-to-solve">Problem to Solve</h2>

<p>You just landed a new job as a data analyst for the State of Massachusetts, working within the Department of Elementary and Secondary Education (or DESE, for short!). DESE oversees the state’s <a href="https://en.wikipedia.org/wiki/Education_in_the_United_States">public education system</a>. One responsibility of DESE is to ensure every child has a quality education—one in which they encounter experienced teachers, have access to an abundance of resources, and ultimately graduate having met all requirements of the state. Your SQL skills have a part to play in these lofty goals!</p>

<p>In a database called <code class="language-plaintext highlighter-rouge">dese.db</code>, answer questions about the state of education in Massachusetts.</p>

<h2 id="demo">Demo</h2>

<script async="" data-autoplay="1" data-cols="100" data-loop="1" data-rows="12" id="asciicast-ulFTtQPDnjDgabyMkBvQLiqma" src="https://asciinema.org/a/ulFTtQPDnjDgabyMkBvQLiqma.js"></script>

<h2 id="distribution-code">Distribution Code</h2>

<p>For this problem, you’ll need to download <code class="language-plaintext highlighter-rouge">dese.db</code>, along with several <code class="language-plaintext highlighter-rouge">.sql</code> files in which you’ll write your queries.</p>

<details><summary>Download the distribution code</summary><p>Log into <a href="https://cs50.dev/">cs50.dev</a>, click on your terminal window, and execute <code class="language-plaintext highlighter-rouge">cd</code> by itself. You should find that your terminal window’s prompt resembles the below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$
</code></pre></div></div>

<p>Next execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://cdn.cs50.net/sql/2023/x/psets/1/dese.zip
</code></pre></div></div>

<p>in order to download a ZIP called <code class="language-plaintext highlighter-rouge">dese.zip</code> into your codespace.</p>

<p>Then execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unzip dese.zip
</code></pre></div></div>

<p>to create a folder called <code class="language-plaintext highlighter-rouge">dese</code>. You no longer need the ZIP file, so you can execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm dese.zip
</code></pre></div></div>

<p>and respond with “y” followed by Enter at the prompt to remove the ZIP file you downloaded.</p>

<p>Now type</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd dese
</code></pre></div></div>

<p>followed by Enter to move yourself into (i.e., open) that directory. Your prompt should now resemble the below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dese/ $
</code></pre></div></div>

<p>If all was successful, you should execute</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls
</code></pre></div></div>

<p>and see a database named <code class="language-plaintext highlighter-rouge">dese.db</code> alongside several <code class="language-plaintext highlighter-rouge">.sql</code> files. Executing <code class="language-plaintext highlighter-rouge">sqlite3 dese.db</code> should open the database in <code class="language-plaintext highlighter-rouge">sqlite3</code>, via which you’ll execute SQL queries. If not, retrace your steps and see if you can determine where you went wrong!</p></details>

<h2 id="schema">Schema</h2>

<p>In Massachusetts, public education is delegated to <a href="https://en.wikipedia.org/wiki/School_district">districts</a>, a type of school government often associated with an individual town. These districts, in turn, contain many individual schools. Consider the entity relationship diagram below, which codifies the relationship between districts, schools, and other data DESE collects.</p>

<pre><code class="language-mermaid">erDiagram
    "District" ||--o{ "School": "contains"
    "District" ||--o{ "Expenditure": "makes"
    "District" ||--o{ "Staff Evaluation" : "receives"
    "School" ||--o| "Graduation Rate" : "reports"
</code></pre>

<p>Within <code class="language-plaintext highlighter-rouge">dese.db</code>, you’ll find several tables that implement the relationships described in the diagram above. Click the drop-downs below to learn more about the schema of each individual table.</p>

<details><summary><code>districts</code> table</summary><p>The <code class="language-plaintext highlighter-rouge">districts</code> table contains the following columns:</p>

<ul>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">id</code>, which is the ID of the district</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">name</code>, which is the name of the district</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">type</code>, which denotes the type of district. In Massachusetts, there are public school districts (denoted “Public School District”) and charter districts (denoted “Charter District”). No need to learn the difference, though you can do so from <a href="https://en.wikipedia.org/wiki/Charter_school">Wikipedia</a> if curious!</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">city</code>, which is the city in which the district is located</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">state</code>, which is the state in which the district is located</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">zip</code>, which is the <a href="https://en.wikipedia.org/wiki/ZIP_Code">ZIP Code</a> in which the district is located</li>
</ul></details>

<details><summary><code>schools</code> table</summary><p>The <code class="language-plaintext highlighter-rouge">schools</code> table contains the following columns:</p>

<ul>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">id</code>, which is the ID of the school</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">district_id</code>, which is the ID of the district to which the school belongs</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">name</code>, which is the name of the school</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">type</code>, which denotes the type of school. In Massachusetts, there are public schools (denoted “Public School”) and charter schools (denoted “Charter School”). No need to learn the difference, though you can do so from <a href="https://en.wikipedia.org/wiki/Charter_school">Wikipedia</a> if curious!</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">city</code>, which is the city in which the school is located</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">state</code>, which is the state in which the school is located</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">zip</code>, which is the <a href="https://en.wikipedia.org/wiki/ZIP_Code">ZIP Code</a> in which the school is located</li>
</ul></details>

<details><summary><code>graduation_rates</code> table</summary><p>The <code class="language-plaintext highlighter-rouge">graduation_rates</code> table contains the following columns:</p>

<ul>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">id</code>, which is the ID of the graduation rate</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">school_id</code>, which is the ID of the school with which the graduation is associated</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">graduated</code>, which is the percentage of students, 0–100, who graduated on time</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">dropped</code>, which is the percentage of students, 0–100, who dropped out of school before graduation</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">excluded</code>, which is the percentage of students, 0–100, who were “excluded” (i.e., expelled)</li>
</ul></details>

<details><summary><code>expenditures</code> table</summary><p>The <code class="language-plaintext highlighter-rouge">expenditures</code> table contains the following columns:</p>

<ul>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">id</code>, which is the ID of the expenditure</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">district_id</code>, which is the ID of the district with which the expenditure is associated</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">pupils</code>, which is the number of pupils attending the given district</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">per_pupil_expenditure</code>, which is the amount of money spent, in dollars, on each student attending the district</li>
</ul></details>

<details><summary><code>staff_evaluations</code> table</summary><p>The <code class="language-plaintext highlighter-rouge">staff_evaluations</code> table contains the following columns:</p>

<ul>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">id</code>, which is the ID of the evaluation report</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">district_id</code>, which is the ID of the district with which the evaluation is associated</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">evaluated</code>, which is the percentage of district staff, 0–100, formally evaluated</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">exemplary</code>, which is the percentage of district staff, 0–100, evaluated as “exemplary”</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">proficient</code>, which is the percentage of district staff, 0–100, evaluated as “proficient”</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">needs_improvement</code>, which is the percentage of district staff, 0–100, evaluated as “needing improvement”</li>
  <li data-marker="*"><code class="language-plaintext highlighter-rouge">unsatisfactory</code>, which is the percentage of district staff, 0–100, evaluated as “unsatisfactory”</li>
</ul></details>

<p>You might (cleverly!) note that some of these relationships could be implemented with a single table. You’d be correct, though in this case, you’ll simply have to work with what your colleagues at DESE created!</p>

<h2 id="specification">Specification</h2>

<p>For each of the following questions, you should write a single SQL query that outputs the results specified by each problem. Your response must take the form of a single SQL query. You <strong>should not</strong> assume anything about the <code class="language-plaintext highlighter-rouge">id</code>s of any particular rows: your queries should be accurate even if the <code class="language-plaintext highlighter-rouge">id</code>s were different. Finally, each query should return only the data necessary to answer the question.</p>

<h5 id="1sql"><code class="language-plaintext highlighter-rouge">1.sql</code></h5>

<p>Your colleague is preparing a map of all public schools in Massachusetts. In <code class="language-plaintext highlighter-rouge">1.sql</code>, write a SQL query to find the names and cities of all public schools in Massachusetts.</p>

<ul>
  <li data-marker="*">Keep in mind that not all schools in the <code class="language-plaintext highlighter-rouge">schools</code> table are considered traditional public schools. Massachusetts also recognizes <a href="https://en.wikipedia.org/wiki/Charter_schools_in_the_United_States">charter schools</a>, which (according to DESE!) are considered distinct.</li>
</ul>

<h5 id="2sql"><code class="language-plaintext highlighter-rouge">2.sql</code></h5>

<p>Your team is working on archiving old data. In <code class="language-plaintext highlighter-rouge">2.sql</code>, write a SQL query to find the names of districts that are no longer operational.</p>

<ul>
  <li data-marker="*">Districts that are no longer operational have “(non-op)” at the end of their name.</li>
</ul>

<h5 id="3sql"><code class="language-plaintext highlighter-rouge">3.sql</code></h5>

<p>The Massachusetts Legislature would like to learn how much money, on average, districts spent per-pupil last year. In <code class="language-plaintext highlighter-rouge">3.sql</code>, write a SQL query to find the average per-pupil expenditure. Name the column “Average District Per-Pupil Expenditure”.</p>

<ul>
  <li data-marker="*">Note the <code class="language-plaintext highlighter-rouge">per_pupil_expenditure</code> column in the <code class="language-plaintext highlighter-rouge">expenditures</code> table contains the average amount, per pupil, each district spent last year. You’ve been asked to find the average of this set of averages, weighting all districts equally regardless of their size.</li>
</ul>

<h5 id="4sql"><code class="language-plaintext highlighter-rouge">4.sql</code></h5>

<p>Some cities have more public schools than others. In <code class="language-plaintext highlighter-rouge">4.sql</code>, write a SQL query to find the 10 cities with the most public schools. Your query should return the names of the cities and the number of public schools within them, ordered from greatest number of public schools to least. If two cities have the same number of public schools, order them alphabetically.</p>

<h5 id="5sql"><code class="language-plaintext highlighter-rouge">5.sql</code></h5>

<p>DESE would like you to determine in what cities additional public schools might be needed. In <code class="language-plaintext highlighter-rouge">5.sql</code>, write a SQL query to find cities with 3 or fewer public schools. Your query should return the names of the cities and the number of public schools within them, ordered from greatest number of public schools to least. If two cities have the same number of public schools, order them alphabetically.</p>

<h5 id="6sql"><code class="language-plaintext highlighter-rouge">6.sql</code></h5>

<p>DESE wants to assess which schools achieved a 100% graduation rate. In <code class="language-plaintext highlighter-rouge">6.sql</code>, write a SQL query to find the names of schools (public or charter!) that reported a 100% graduation rate.</p>

<h5 id="7sql"><code class="language-plaintext highlighter-rouge">7.sql</code></h5>

<p>DESE is preparing a report on schools in the city of Cambridge. In <code class="language-plaintext highlighter-rouge">7.sql</code>, write a SQL query to find the names of schools (public or charter!) in the Cambridge school district.</p>

<h5 id="8sql"><code class="language-plaintext highlighter-rouge">8.sql</code></h5>

<p>A parent wants to send their child to a district with many other students. In <code class="language-plaintext highlighter-rouge">8.sql</code>, write a SQL query to display the names of all school districts and the number of pupils enrolled in each.</p>

<h5 id="9sql"><code class="language-plaintext highlighter-rouge">9.sql</code></h5>

<p>Another parent wants to send their child to a district with few other students. In <code class="language-plaintext highlighter-rouge">9.sql</code>, write a SQL query to find the name (or names) of the school district(s) with the single least number of pupils. Report only the name(s).</p>

<h5 id="10sql"><code class="language-plaintext highlighter-rouge">10.sql</code></h5>

<p>In Massachusetts, school district expenditures are in part determined by local taxes on property (e.g., home) values. In <code class="language-plaintext highlighter-rouge">10.sql</code>, write a SQL query to find the 10 public school districts with the highest per-pupil expenditures. Your query should return the names of the districts and the per-pupil expenditure for each.</p>

<h5 id="11sql"><code class="language-plaintext highlighter-rouge">11.sql</code></h5>

<p>Is there a relationship between school expenditures and graduation rates? In <code class="language-plaintext highlighter-rouge">11.sql</code>, write a SQL query to display the names of schools, their per-pupil expenditure, and their graduation rate. Sort the schools from greatest per-pupil expenditure to least. If two schools have the same per-pupil expenditure, sort by school name.</p>

<ul>
  <li data-marker="*">You should assume a school spends the same amount per-pupil their district as a whole spends.</li>
</ul>

<h5 id="12sql"><code class="language-plaintext highlighter-rouge">12.sql</code></h5>

<p>A parent asks you for advice on finding the best public school districts in Massachusetts. In <code class="language-plaintext highlighter-rouge">12.sql</code>, write a SQL query to find public school districts with above-average per-pupil expenditures <em>and</em> an above-average percentage of teachers rated “exemplary”. Your query should return the districts’ names, along with their per-pupil expenditures and percentage of teachers rated exemplary. Sort the results first by the percentage of teachers rated exemplary (high to low), then by the per-pupil expenditure (high to low).</p>

<details><summary>Hint</summary><p>You might find it helpful to know that subqueries can be inserted into most any part of a SQL query, including conditions. For instance, the following is valid SQL syntax:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="nv">"column"</span> <span class="k">FROM</span> <span class="nv">"table"</span>
<span class="k">WHERE</span> <span class="nv">"column"</span> <span class="o">&gt;</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="nv">"column"</span><span class="p">)</span>
    <span class="k">FROM</span> <span class="nv">"table"</span>
<span class="p">);</span>
</code></pre></div></div></details>

<h5 id="13sql"><code class="language-plaintext highlighter-rouge">13.sql</code></h5>

<p>In <code class="language-plaintext highlighter-rouge">13.sql</code>, write a SQL query to answer a question you have about the data! The query should:</p>

<ul>
  <li data-marker="*">Involve at least one <code class="language-plaintext highlighter-rouge">JOIN</code> or subquery</li>
</ul>

<h2 id="usage">Usage</h2>

<p>To test your queries as you write them in your <code class="language-plaintext highlighter-rouge">.sql</code> files, you can query the database by running</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.read FILENAME
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">FILENAME</code> is the name of the file containing your SQL query. For example,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.read 1.sql
</code></pre></div></div>

<p>You can also run</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat FILENAME | sqlite3 dese.db &gt; output.txt
</code></pre></div></div>

<p>to redirect the output of the query to a text file called <code class="language-plaintext highlighter-rouge">output.txt</code>. (This can be useful for checking how many rows are returned by your query!)</p>

<h2 id="how-to-test">How to Test</h2>

<p>While <code class="language-plaintext highlighter-rouge">check50</code> is available for this problem, you’re encouraged to instead test your code on your own for each of the following. If you’re using the <code class="language-plaintext highlighter-rouge">dese.db</code> database provided in this problem’s distribution, you should find that…</p>

<ul>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">1.sql</code> results in a table with 2 columns and 1,761 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">2.sql</code> results in a table with 1 column and 121 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">3.sql</code> results in a table with 1 column and 1 row.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">4.sql</code> results in a table with 2 columns and 10 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">5.sql</code> results in a table with 2 columns and 201 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">6.sql</code> results in a table with 1 column and 9 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">7.sql</code> results in a table with 1 column and 17 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">8.sql</code> results in a table with 2 columns and 396 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">9.sql</code> results in a table with 1 column and 1 row.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">10.sql</code> results in a table with 2 columns and 10 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">11.sql</code> results in a table with 3 columns and 391 rows.</li>
  <li data-marker="*">Executing <code class="language-plaintext highlighter-rouge">12.sql</code> results in a table with 3 columns and 65 rows.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">13.sql</code> is up to you!</p>

<p>Note that row counts do not include header rows that only show column names.</p>

<h3 id="correctness">Correctness</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>check50 cs50/problems/2023/sql/dese
</code></pre></div></div>

<h2 id="how-to-submit">How to Submit</h2>

<p>In your terminal, execute the below to submit your work.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>submit50 cs50/problems/2023/sql/dese
</code></pre></div></div>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>Data assembled from the <a href="https://www.doe.mass.edu/">Massachusetts Department of Elementary and Secondary Education</a>’s <a href="https://profiles.doe.mass.edu/">public data sets</a>.</p>


                </main>

            </div>

        </div>

        
 
        <script src="../../../assets/page.js?1696256780"></script>

    


</body></html>